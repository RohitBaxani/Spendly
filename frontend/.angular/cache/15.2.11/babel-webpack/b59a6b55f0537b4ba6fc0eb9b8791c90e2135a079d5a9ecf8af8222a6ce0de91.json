{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ChatComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_div_23_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.monthlyIncome = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_div_23_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.existingEmi = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_div_23_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.cibilScore = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.monthlyIncome);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.existingEmi);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.cibilScore);\n  }\n}\nfunction ChatComponent_div_24_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵelement(4, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cat_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cat_r9.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", cat_r9.value, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(7, 4, cat_r9.value, \"1.0-1\"), \"%\");\n  }\n}\nfunction ChatComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"h3\");\n    i0.ɵɵtext(2, \"Spending Breakdown\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ChatComponent_div_24_div_3_Template, 8, 7, \"div\", 23);\n    i0.ɵɵpipe(4, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 1, ctx_r1.spendingData));\n  }\n}\nfunction ChatComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const m_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", m_r10.role === \"user\" ? \"user\" : \"assistant\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", m_r10.content, \" \");\n  }\n}\nfunction ChatComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Try \\u201CI want a monthly spending plan\\u201D and upload bank.csv! \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ChatComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.sessionId = crypto.randomUUID();\n    this.intent = 'spending_plan';\n    this.messages = [];\n    this.input = '';\n    this.uploading = false;\n    this.sending = false;\n  }\n  onFileSelected(event) {\n    const input = event.target;\n    const file = input.files?.[0];\n    if (!file) return;\n    this.uploading = true;\n    this.chatService.uploadFile(file).subscribe({\n      next: res => {\n        this.filePath = res.path;\n        this.uploading = false;\n      },\n      error: () => {\n        this.uploading = false;\n        this.messages.push({\n          role: 'assistant',\n          content: 'Upload failed. Please try again.'\n        });\n      }\n    });\n  }\n  send() {\n    if (!this.input.trim()) return;\n    const userMsg = this.input.trim();\n    this.messages.push({\n      role: 'user',\n      content: userMsg\n    });\n    this.sending = true;\n    this.chatService.sendMessage({\n      session_id: this.sessionId,\n      message: userMsg,\n      intent: this.intent,\n      file_path: this.filePath,\n      cibil_score: this.intent === 'loan' ? this.cibilScore : undefined,\n      monthly_income: this.intent === 'loan' ? this.monthlyIncome : undefined,\n      existing_emi: this.intent === 'loan' ? this.existingEmi : undefined\n    }).subscribe({\n      next: res => {\n        const assistantMsg = res.summary ?? 'No response';\n        this.messages.push({\n          role: 'assistant',\n          content: assistantMsg\n        });\n        if (this.intent === 'spending_plan' && res.data?.category_percent) {\n          this.spendingData = res.data.category_percent;\n        }\n        this.sending = false;\n      },\n      error: () => {\n        this.messages.push({\n          role: 'assistant',\n          content: 'Error connecting to Spendly backend.'\n        });\n        this.sending = false;\n      }\n    });\n    this.input = '';\n  }\n}\nChatComponent.ɵfac = function ChatComponent_Factory(t) {\n  return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n};\nChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatComponent,\n  selectors: [[\"app-chat\"]],\n  decls: 32,\n  vars: 9,\n  consts: [[1, \"chat-container\"], [1, \"chat-header\"], [1, \"controls\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"spending_plan\"], [\"value\", \"tax_saver\"], [\"value\", \"investment\"], [\"value\", \"loan\"], [1, \"file-upload\"], [\"type\", \"file\", 3, \"change\"], [\"class\", \"loan-inputs\", 4, \"ngIf\"], [\"class\", \"chart-panel\", 4, \"ngIf\"], [1, \"chat-body\"], [\"class\", \"bubble\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"hint\", 4, \"ngIf\"], [1, \"chat-input\"], [\"placeholder\", \"Type your question\\u2026\", 3, \"ngModel\", \"ngModelChange\", \"keydown.enter\"], [3, \"disabled\", \"click\"], [1, \"loan-inputs\"], [\"type\", \"number\", \"placeholder\", \"Monthly income (\\u20B9)\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"Existing EMIs (\\u20B9)\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"CIBIL score\", 3, \"ngModel\", \"ngModelChange\"], [1, \"chart-panel\"], [\"class\", \"chart-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"chart-row\"], [1, \"bar\"], [1, \"fill\"], [1, \"bubble\", 3, \"ngClass\"], [1, \"hint\"]],\n  template: function ChatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\");\n      i0.ɵɵtext(4, \"Spendly \\u2013 Agentic Finance Planner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\");\n      i0.ɵɵtext(6, \"Upload files + chat like Gemini, get multi-agent plans.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\");\n      i0.ɵɵtext(9, \" Intent \");\n      i0.ɵɵelementStart(10, \"select\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_Template_select_ngModelChange_10_listener($event) {\n        return ctx.intent = $event;\n      });\n      i0.ɵɵelementStart(11, \"option\", 4);\n      i0.ɵɵtext(12, \"Monthly Spending Plan\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"option\", 5);\n      i0.ɵɵtext(14, \"Tax Saver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\", 6);\n      i0.ɵɵtext(16, \"Investment Planner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 7);\n      i0.ɵɵtext(18, \"Loan Capability\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"label\", 8)(20, \"input\", 9);\n      i0.ɵɵlistener(\"change\", function ChatComponent_Template_input_change_20_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"span\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(23, ChatComponent_div_23_Template, 4, 3, \"div\", 10);\n      i0.ɵɵtemplate(24, ChatComponent_div_24_Template, 5, 3, \"div\", 11);\n      i0.ɵɵelementStart(25, \"div\", 12);\n      i0.ɵɵtemplate(26, ChatComponent_div_26_Template, 2, 2, \"div\", 13);\n      i0.ɵɵtemplate(27, ChatComponent_div_27_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 15)(29, \"textarea\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_Template_textarea_ngModelChange_29_listener($event) {\n        return ctx.input = $event;\n      })(\"keydown.enter\", function ChatComponent_Template_textarea_keydown_enter_29_listener($event) {\n        ctx.send();\n        return $event.preventDefault();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_30_listener() {\n        return ctx.send();\n      });\n      i0.ɵɵtext(31);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.intent);\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate(ctx.uploading ? \"Uploading\\u2026\" : \"Upload CSV / PDF\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.intent === \"loan\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.spendingData);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.messages.length === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.input);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.sending);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.sending ? \"Sending\\u2026\" : \"Send\", \" \");\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DecimalPipe, i2.KeyValuePipe],\n  styles: [\".chat-container[_ngcontent-%COMP%] {\\n  max-width: 1040px;\\n  margin: 16px auto;\\n  height: calc(100vh - 32px);\\n  display: flex;\\n  flex-direction: column;\\n  border-radius: 24px;\\n  overflow: hidden;\\n  box-shadow: 0 30px 60px rgba(2, 6, 23, 0.65);\\n  background: #0b1020;\\n}\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  padding: 16px 24px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  gap: 16px;\\n  background: #111827;\\n  border-bottom: 1px solid rgba(148, 163, 184, 0.15);\\n}\\n.chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 20px;\\n}\\n.chat-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 4px 0 0;\\n  color: rgba(226, 232, 240, 0.7);\\n  font-size: 13px;\\n}\\n.chat-header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n.chat-header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  color: rgba(226, 232, 240, 0.8);\\n  display: flex;\\n  flex-direction: column;\\n  gap: 4px;\\n}\\n.chat-header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  min-width: 200px;\\n  padding: 8px 12px;\\n  border-radius: 12px;\\n  border: 1px solid rgba(148, 163, 184, 0.3);\\n  background: #020617;\\n  color: #e2e8f0;\\n  font-size: 14px;\\n}\\n\\n.file-upload[_ngcontent-%COMP%] {\\n  position: relative;\\n  overflow: hidden;\\n  display: inline-flex;\\n  align-items: center;\\n  padding: 8px 14px;\\n  background: #4f46e5;\\n  border-radius: 999px;\\n  font-weight: 600;\\n  font-size: 13px;\\n  cursor: pointer;\\n}\\n.file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  position: absolute;\\n  inset: 0;\\n  opacity: 0;\\n  cursor: pointer;\\n}\\n\\n.loan-inputs[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 8px;\\n  padding: 10px 24px;\\n  background: #020617;\\n  border-bottom: 1px solid rgba(148, 163, 184, 0.15);\\n}\\n.loan-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 10px 12px;\\n  border-radius: 12px;\\n  border: 1px solid rgba(148, 163, 184, 0.3);\\n  background: #0b1120;\\n  color: #e2e8f0;\\n  font-size: 14px;\\n}\\n\\n.chart-panel[_ngcontent-%COMP%] {\\n  padding: 12px 24px;\\n  background: #020617;\\n  border-bottom: 1px solid rgba(148, 163, 184, 0.09);\\n}\\n.chart-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0 0 8px;\\n  font-size: 14px;\\n  letter-spacing: 0.05em;\\n  color: rgba(248, 250, 252, 0.8);\\n}\\n.chart-panel[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  margin-bottom: 6px;\\n}\\n.chart-panel[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 130px;\\n  font-size: 13px;\\n  color: rgba(226, 232, 240, 0.8);\\n}\\n.chart-panel[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%] {\\n  flex: 1;\\n  height: 8px;\\n  border-radius: 999px;\\n  background: #111827;\\n  overflow: hidden;\\n}\\n.chart-panel[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%] {\\n  height: 100%;\\n  background: linear-gradient(90deg, #22c55e, #4f46e5);\\n}\\n.chart-panel[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n  width: 60px;\\n  text-align: right;\\n  font-size: 12px;\\n  color: rgba(248, 250, 252, 0.7);\\n}\\n\\n.chat-body[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 20px 24px;\\n  overflow-y: auto;\\n  background: radial-gradient(circle at top, #1d283a, #020617);\\n}\\n.chat-body[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: rgba(148, 163, 184, 0.8);\\n  font-size: 14px;\\n}\\n\\n.bubble[_ngcontent-%COMP%] {\\n  max-width: 80%;\\n  padding: 10px 14px;\\n  margin-bottom: 12px;\\n  border-radius: 18px;\\n  font-size: 14px;\\n  line-height: 1.5;\\n  white-space: pre-wrap;\\n}\\n\\n.bubble.user[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  background: #4f46e5;\\n  color: #f8fafc;\\n  border-bottom-right-radius: 4px;\\n}\\n\\n.bubble.assistant[_ngcontent-%COMP%] {\\n  margin-right: auto;\\n  background: rgba(15, 23, 42, 0.9);\\n  border: 1px solid rgba(148, 163, 184, 0.4);\\n  border-bottom-left-radius: 4px;\\n  color: #e2e8f0;\\n}\\n\\n.chat-input[_ngcontent-%COMP%] {\\n  padding: 16px 24px;\\n  border-top: 1px solid rgba(148, 163, 184, 0.15);\\n  display: flex;\\n  gap: 12px;\\n  background: #020617;\\n}\\n.chat-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  flex: 1;\\n  resize: none;\\n  min-height: 60px;\\n  max-height: 120px;\\n  padding: 12px 14px;\\n  border-radius: 16px;\\n  border: 1px solid rgba(148, 163, 184, 0.3);\\n  background: #0b1120;\\n  color: #f8fafc;\\n  font-size: 14px;\\n}\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  padding: 0 32px;\\n  border-radius: 999px;\\n  border: none;\\n  font-weight: 600;\\n  background: linear-gradient(90deg, #22c55e, #16a34a);\\n  color: #041018;\\n  cursor: pointer;\\n  transition: transform 0.15s ease;\\n}\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover {\\n  transform: translateY(-1px);\\n}\\n\\n@media (max-width: 768px) {\\n  .chat-container[_ngcontent-%COMP%] {\\n    height: 100vh;\\n    border-radius: 0;\\n  }\\n  .chat-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .controls[_ngcontent-%COMP%] {\\n    width: 100%;\\n    flex-direction: column;\\n  }\\n  .controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .loan-inputs[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .bubble[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLDBCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLDRDQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxTQUFBO0VBQ0EsbUJBQUE7RUFDQSxrREFBQTtBQUNGO0FBQ0U7RUFDRSxTQUFBO0VBQ0EsZUFBQTtBQUNKO0FBRUU7RUFDRSxlQUFBO0VBQ0EsK0JBQUE7RUFDQSxlQUFBO0FBQUo7QUFHRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUFESjtBQUdJO0VBQ0UsZUFBQTtFQUNBLCtCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtBQUROO0FBSUk7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFGTjs7QUFPQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQUpGO0FBTUU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtBQUpKOztBQVFBO0VBQ0UsYUFBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0RBQUE7QUFMRjtBQU9FO0VBQ0UsT0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFMSjs7QUFTQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrREFBQTtBQU5GO0FBUUU7RUFDRSxlQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EsK0JBQUE7QUFOSjtBQVNFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0FBUEo7QUFTSTtFQUNFLFlBQUE7RUFDQSxlQUFBO0VBQ0EsK0JBQUE7QUFQTjtBQVVJO0VBQ0UsT0FBQTtFQUNBLFdBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFSTjtBQVVNO0VBQ0UsWUFBQTtFQUNBLG9EQUFBO0FBUlI7QUFZSTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSwrQkFBQTtBQVZOOztBQWVBO0VBQ0UsT0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSw0REFBQTtBQVpGO0FBY0U7RUFDRSxrQkFBQTtFQUNBLCtCQUFBO0VBQ0EsZUFBQTtBQVpKOztBQWdCQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtBQWJGOztBQWdCQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7QUFiRjs7QUFnQkE7RUFDRSxrQkFBQTtFQUNBLGlDQUFBO0VBQ0EsMENBQUE7RUFDQSw4QkFBQTtFQUNBLGNBQUE7QUFiRjs7QUFnQkE7RUFDRSxrQkFBQTtFQUNBLCtDQUFBO0VBQ0EsYUFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtBQWJGO0FBZUU7RUFDRSxPQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMENBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FBYko7QUFnQkU7RUFDRSxlQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvREFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7QUFkSjtBQWdCSTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBQWROO0FBaUJJO0VBQ0UsMkJBQUE7QUFmTjs7QUFvQkE7RUFDRTtJQUNFLGFBQUE7SUFDQSxnQkFBQTtFQWpCRjtFQW9CQTtJQUNFLHNCQUFBO0VBbEJGO0VBcUJBO0lBQ0UsV0FBQTtJQUNBLHNCQUFBO0VBbkJGO0VBcUJFO0lBQ0UsV0FBQTtFQW5CSjtFQXVCQTtJQUNFLHNCQUFBO0VBckJGO0VBd0JBO0lBQ0UsZUFBQTtFQXRCRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXQtY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDEwNDBweDtcclxuICBtYXJnaW46IDE2cHggYXV0bztcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAzMnB4KTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGJveC1zaGFkb3c6IDAgMzBweCA2MHB4IHJnYmEoMiwgNiwgMjMsIDAuNjUpO1xyXG4gIGJhY2tncm91bmQ6ICMwYjEwMjA7XHJcbn1cclxuXHJcbi5jaGF0LWhlYWRlciB7XHJcbiAgcGFkZGluZzogMTZweCAyNHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gIGdhcDogMTZweDtcclxuICBiYWNrZ3JvdW5kOiAjMTExODI3O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMTUpO1xyXG5cclxuICBoMiB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgfVxyXG5cclxuICBwIHtcclxuICAgIG1hcmdpbjogNHB4IDAgMDtcclxuICAgIGNvbG9yOiByZ2JhKDIyNiwgMjMyLCAyNDAsIDAuNyk7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgfVxyXG5cclxuICAuY29udHJvbHMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDEycHg7XHJcblxyXG4gICAgbGFiZWwge1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIGNvbG9yOiByZ2JhKDIyNiwgMjMyLCAyNDAsIDAuOCk7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIGdhcDogNHB4O1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdCB7XHJcbiAgICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMyk7XHJcbiAgICAgIGJhY2tncm91bmQ6ICMwMjA2MTc7XHJcbiAgICAgIGNvbG9yOiAjZTJlOGYwO1xyXG4gICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uZmlsZS11cGxvYWQge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogOHB4IDE0cHg7XHJcbiAgYmFja2dyb3VuZDogIzRmNDZlNTtcclxuICBib3JkZXItcmFkaXVzOiA5OTlweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMTNweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gIGlucHV0IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGluc2V0OiAwO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbn1cclxuXHJcbi5sb2FuLWlucHV0cyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDhweDtcclxuICBwYWRkaW5nOiAxMHB4IDI0cHg7XHJcbiAgYmFja2dyb3VuZDogIzAyMDYxNztcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgxNDgsIDE2MywgMTg0LCAwLjE1KTtcclxuXHJcbiAgaW5wdXQge1xyXG4gICAgZmxleDogMTtcclxuICAgIHBhZGRpbmc6IDEwcHggMTJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMyk7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMGIxMTIwO1xyXG4gICAgY29sb3I6ICNlMmU4ZjA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uY2hhcnQtcGFuZWwge1xyXG4gIHBhZGRpbmc6IDEycHggMjRweDtcclxuICBiYWNrZ3JvdW5kOiAjMDIwNjE3O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMDkpO1xyXG5cclxuICBoMyB7XHJcbiAgICBtYXJnaW46IDAgMCA4cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xyXG4gICAgY29sb3I6IHJnYmEoMjQ4LCAyNTAsIDI1MiwgMC44KTtcclxuICB9XHJcblxyXG4gIC5jaGFydC1yb3cge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDEycHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA2cHg7XHJcblxyXG4gICAgc3BhbiB7XHJcbiAgICAgIHdpZHRoOiAxMzBweDtcclxuICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICBjb2xvcjogcmdiYSgyMjYsIDIzMiwgMjQwLCAwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC5iYXIge1xyXG4gICAgICBmbGV4OiAxO1xyXG4gICAgICBoZWlnaHQ6IDhweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7XHJcbiAgICAgIGJhY2tncm91bmQ6ICMxMTE4Mjc7XHJcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcblxyXG4gICAgICAuZmlsbCB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzIyYzU1ZSwgIzRmNDZlNSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzbWFsbCB7XHJcbiAgICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICBjb2xvcjogcmdiYSgyNDgsIDI1MCwgMjUyLCAwLjcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmNoYXQtYm9keSB7XHJcbiAgZmxleDogMTtcclxuICBwYWRkaW5nOiAyMHB4IDI0cHg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxuICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHRvcCwgIzFkMjgzYSwgIzAyMDYxNyk7XHJcblxyXG4gIC5oaW50IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiByZ2JhKDE0OCwgMTYzLCAxODQsIDAuOCk7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uYnViYmxlIHtcclxuICBtYXgtd2lkdGg6IDgwJTtcclxuICBwYWRkaW5nOiAxMHB4IDE0cHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBsaW5lLWhlaWdodDogMS41O1xyXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxufVxyXG5cclxuLmJ1YmJsZS51c2VyIHtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBiYWNrZ3JvdW5kOiAjNGY0NmU1O1xyXG4gIGNvbG9yOiAjZjhmYWZjO1xyXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA0cHg7XHJcbn1cclxuXHJcbi5idWJibGUuYXNzaXN0YW50IHtcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgYmFja2dyb3VuZDogcmdiYSgxNSwgMjMsIDQyLCAwLjkpO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC40KTtcclxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7XHJcbiAgY29sb3I6ICNlMmU4ZjA7XHJcbn1cclxuXHJcbi5jaGF0LWlucHV0IHtcclxuICBwYWRkaW5nOiAxNnB4IDI0cHg7XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMTQ4LCAxNjMsIDE4NCwgMC4xNSk7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDEycHg7XHJcbiAgYmFja2dyb3VuZDogIzAyMDYxNztcclxuXHJcbiAgdGV4dGFyZWEge1xyXG4gICAgZmxleDogMTtcclxuICAgIHJlc2l6ZTogbm9uZTtcclxuICAgIG1pbi1oZWlnaHQ6IDYwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiAxMjBweDtcclxuICAgIHBhZGRpbmc6IDEycHggMTRweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMyk7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMGIxMTIwO1xyXG4gICAgY29sb3I6ICNmOGZhZmM7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG5cclxuICBidXR0b24ge1xyXG4gICAgcGFkZGluZzogMCAzMnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOTk5cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMjJjNTVlLCAjMTZhMzRhKTtcclxuICAgIGNvbG9yOiAjMDQxMDE4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzIGVhc2U7XHJcblxyXG4gICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgIG9wYWNpdHk6IDAuNTtcclxuICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCg6ZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLmNoYXQtY29udGFpbmVyIHtcclxuICAgIGhlaWdodDogMTAwdmg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIH1cclxuXHJcbiAgLmNoYXQtaGVhZGVyIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG5cclxuICAuY29udHJvbHMge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgIHNlbGVjdCB7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmxvYW4taW5wdXRzIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG5cclxuICAuYnViYmxlIHtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ChatComponent","constructor","chatService","crypto","randomUUID","onFileSelected","event","input","target","file","files","uploading","uploadFile","subscribe","next","res","filePath","path","error","messages","push","role","content","send","trim","userMsg","sending","sendMessage","session_id","sessionId","message","intent","file_path","cibil_score","cibilScore","undefined","monthly_income","monthlyIncome","existing_emi","existingEmi","assistantMsg","summary","data","category_percent","spendingData","selectors","decls","vars","consts","template","ctx","$event"],"sourceRoot":"","sources":["C:\\Users\\ASUS\\OneDrive\\Desktop\\spendly\\Spendly\\frontend\\src\\app\\chat\\chat.component.html","C:\\Users\\ASUS\\OneDrive\\Desktop\\spendly\\Spendly\\frontend\\src\\app\\chat\\chat.component.ts"],"sourcesContent":["<div class=\"chat-container\">\r\n  <div class=\"chat-header\">\r\n    <div>\r\n      <h2>Spendly – Agentic Finance Planner</h2>\r\n      <p>Upload files + chat like Gemini, get multi-agent plans.</p>\r\n    </div>\r\n\r\n    <div class=\"controls\">\r\n      <label>\r\n        Intent\r\n        <select [(ngModel)]=\"intent\">\r\n          <option value=\"spending_plan\">Monthly Spending Plan</option>\r\n          <option value=\"tax_saver\">Tax Saver</option>\r\n          <option value=\"investment\">Investment Planner</option>\r\n          <option value=\"loan\">Loan Capability</option>\r\n        </select>\r\n      </label>\r\n\r\n      <label class=\"file-upload\">\r\n        <input type=\"file\" (change)=\"onFileSelected($event)\" />\r\n        <span>{{ uploading ? 'Uploading…' : 'Upload CSV / PDF' }}</span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"loan-inputs\" *ngIf=\"intent === 'loan'\">\r\n    <input\r\n      type=\"number\"\r\n      placeholder=\"Monthly income (₹)\"\r\n      [(ngModel)]=\"monthlyIncome\"\r\n    />\r\n    <input\r\n      type=\"number\"\r\n      placeholder=\"Existing EMIs (₹)\"\r\n      [(ngModel)]=\"existingEmi\"\r\n    />\r\n    <input\r\n      type=\"number\"\r\n      placeholder=\"CIBIL score\"\r\n      [(ngModel)]=\"cibilScore\"\r\n    />\r\n  </div>\r\n\r\n  <div class=\"chart-panel\" *ngIf=\"spendingData\">\r\n    <h3>Spending Breakdown</h3>\r\n    <div class=\"chart-row\" *ngFor=\"let cat of spendingData | keyvalue\">\r\n      <span>{{ cat.key }}</span>\r\n      <div class=\"bar\">\r\n        <div class=\"fill\" [style.width.%]=\"cat.value\"></div>\r\n      </div>\r\n      <small>{{ cat.value | number: '1.0-1' }}%</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"chat-body\">\r\n    <div\r\n      class=\"bubble\"\r\n      *ngFor=\"let m of messages\"\r\n      [ngClass]=\"m.role === 'user' ? 'user' : 'assistant'\"\r\n    >\r\n      {{ m.content }}\r\n    </div>\r\n    <div class=\"hint\" *ngIf=\"messages.length === 0\">\r\n      Try “I want a monthly spending plan” and upload bank.csv!\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"chat-input\">\r\n    <textarea\r\n      [(ngModel)]=\"input\"\r\n      placeholder=\"Type your question…\"\r\n      (keydown.enter)=\"send(); $event.preventDefault()\"\r\n    ></textarea>\r\n    <button (click)=\"send()\" [disabled]=\"sending\">\r\n      {{ sending ? 'Sending…' : 'Send' }}\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import { Component } from '@angular/core';\r\nimport { ChatService } from '../chat.service';\r\n\r\ntype Intent = 'spending_plan' | 'tax_saver' | 'investment' | 'loan';\r\n\r\ninterface ChatBubble {\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.scss'],\r\n})\r\nexport class ChatComponent {\r\n  sessionId = crypto.randomUUID();\r\n  intent: Intent = 'spending_plan';\r\n  cibilScore?: number;\r\n  monthlyIncome?: number;\r\n  existingEmi?: number;\r\n  filePath?: string;\r\n\r\n  messages: ChatBubble[] = [];\r\n  input = '';\r\n  uploading = false;\r\n  sending = false;\r\n\r\n  spendingData?: Record<string, number>;\r\n\r\n  constructor(private chatService: ChatService) {}\r\n\r\n  onFileSelected(event: Event): void {\r\n    const input = event.target as HTMLInputElement;\r\n    const file = input.files?.[0];\r\n    if (!file) return;\r\n    this.uploading = true;\r\n    this.chatService.uploadFile(file).subscribe({\r\n      next: (res) => {\r\n        this.filePath = res.path;\r\n        this.uploading = false;\r\n      },\r\n      error: () => {\r\n        this.uploading = false;\r\n        this.messages.push({\r\n          role: 'assistant',\r\n          content: 'Upload failed. Please try again.',\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  send(): void {\r\n    if (!this.input.trim()) return;\r\n    const userMsg = this.input.trim();\r\n    this.messages.push({ role: 'user', content: userMsg });\r\n    this.sending = true;\r\n\r\n    this.chatService\r\n      .sendMessage({\r\n        session_id: this.sessionId,\r\n        message: userMsg,\r\n        intent: this.intent,\r\n        file_path: this.filePath,\r\n        cibil_score: this.intent === 'loan' ? this.cibilScore : undefined,\r\n        monthly_income:\r\n          this.intent === 'loan' ? this.monthlyIncome : undefined,\r\n        existing_emi: this.intent === 'loan' ? this.existingEmi : undefined,\r\n      })\r\n      .subscribe({\r\n        next: (res) => {\r\n          const assistantMsg: string = res.summary ?? 'No response';\r\n          this.messages.push({ role: 'assistant', content: assistantMsg });\r\n          if (this.intent === 'spending_plan' && res.data?.category_percent) {\r\n            this.spendingData = res.data.category_percent;\r\n          }\r\n          this.sending = false;\r\n        },\r\n        error: () => {\r\n          this.messages.push({\r\n            role: 'assistant',\r\n            content: 'Error connecting to Spendly backend.',\r\n          });\r\n          this.sending = false;\r\n        },\r\n      });\r\n\r\n    this.input = '';\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}